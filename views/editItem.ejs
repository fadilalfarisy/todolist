<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous">
    </script>
    <title>Create Todo</title>
</head>

<body>

    <div class="container" style="width: 400px; margin-top: 200px;">
        <h2 class="text-center">Create Item</h2>

        <!-- input item -->
        <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">Item</label>
            <input type="text" class="form-control" name="itemTodo" id="exampleFormControlInput1" form="form-save"
                value="<%=item.item%>" required>
        </div>

        <!-- input tag -->
        <div class="mb-3">
            <label for="exampleFormControlTextarea1" class="form-label">Tags</label>

            <% if(item.tag.length == 0 ) {%>
            <textarea class="form-control" name="tag" id="exampleFormControlTextarea1" form="form-save" rows="2"
                placeholder="#urgent #important"></textarea>
            <% } else {
                const tag = item.tag.toString()
                const text = tag.replace(/,/g, " ") %>
            <textarea class="form-control" name="tag" id="exampleFormControlTextarea1" form="form-save" rows="2"
                placeholder="#urgent #important"><%=text%></textarea>

            <%} %>



        </div>

        <div class="text-end">
            <!-- button cancel create item -->
            <form style="display:inline;" id="form-cancel" action="/todo" method="get">
                <button type="submit" class="btn btn-danger">cancel</button>
            </form>
            <!-- button save item -->
            <form style="display:inline;" id="form-save" action="/todo/item/edit" method="post">
                <input type="hidden" name="idTodo" value="<%=idTodo%>">
                <input type="hidden" name="idItemTodo" value="<%=item._id%>">
                <button type="submit" class="btn btn-primary">save</button>
            </form>
        </div>

    </div>
</body>

</html>